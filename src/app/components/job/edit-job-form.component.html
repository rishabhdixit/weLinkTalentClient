<div class="panel panel-default">
	<div class="panel-heading">
		<div class="row">
			<div class="col-md-10">
				<h2>Edit Job Form</h2>
			</div>
			<div class="col-md-2">
			</div>
		</div>
	</div>
	<div class="panel-body">
		<br/>
		<form [formGroup]="editJobForm">
			<div class="row">
				<div class="col-md-12">
					<div *ngIf="!isEditJobFormValid" class="row">
						<br/>
						<div class="col-md-12">
							<div class="form-group">
								<p class="alert alert-danger form-control" autofocus>Please make sure all required fields are fill out!</p>
							</div>
						</div>
						<br/>
					</div>
					<h4>Job Details:</h4>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group">
								<label class="labelWeight">Job Title<i class="color-red"> * </i></label>
								<input type="text" class="form-control" formControlName="title" placeholder="Job Title" required/>
								<div *ngIf="editJobForm.get('title').touched && editJobForm.get('title').invalid"
								     class="alert alert-danger form-control">Please fill out this field!</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group">
								<label class="labelWeight">Industry<i class="color-red"> * </i></label>
								<input type="text" class="form-control" formControlName="industry" placeholder="Industry" required/>
								<div *ngIf="editJobForm.get('industry').touched && editJobForm.get('industry').invalid"
								     class="alert alert-danger form-control">Please fill out this field!</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<div class="form-group">
								<label class="labelWeight">Job Type<i class="color-red"> * </i></label>
								<select class="form-control" formControlName="job_type" required>
									<option value="Permanent">Permanent</option>
									<option value="Contractualization">Contractualization</option>
								</select>
								<div *ngIf="editJobForm.get('job_type').touched && editJobForm.get('job_type').invalid"
								     class="alert alert-danger form-control">Please fill out this field!</div>
							</div>
						</div>
						<div class="col-md-4">
							<div class="form-group">
								<label class="labelWeight">Employment Type<i class="color-red"> * </i></label>
								<select class="form-control" formControlName="employment_type">
									<option value="Full Time">Full Time</option>
									<option value="Part Time">Part Time</option>
								</select>
								<div *ngIf="editJobForm.get('employment_type').touched && editJobForm.get('employment_type').invalid"
								     class="alert alert-danger form-control">Please fill out this field!</div>
							</div>
						</div>
						<div class="col-md-4">
							<div class="form-group">
								<label class="labelWeight">Years of Experience<i class="color-red"> * </i></label>
								<input type="number" min="0" onkeypress="return event.charCode >= 48" class="form-control" formControlName="years_experience" placeholder="Years of Experience" required/>
								<div *ngIf="editJobForm.get('years_experience').touched && editJobForm.get('years_experience').invalid"
								     class="alert alert-danger form-control">Please fill out this field!</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-9">
							<div class="form-group">
								<label class="labelWeight">Expertise<i class="color-red"> * </i></label>
								<input type="text" class="form-control" formControlName="expertise" placeholder="Expertise" required/>
								<div *ngIf="editJobForm.get('expertise').touched && editJobForm.get('expertise').invalid"
								     class="alert alert-danger form-control">Please fill out this field!</div>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label class="labelWeight">Vacant Slots<i class="color-red"> * </i></label>
								<input type="number" min="0" onkeypress="return event.charCode >= 48" class="form-control" formControlName="application_slots" placeholder="Vacant Slots" required/>
								<div *ngIf="editJobForm.get('application_slots').touched && editJobForm.get('application_slots').invalid"
								     class="alert alert-danger form-control">Please fill out this field!</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-3">
							<div class="form-group">
								<label class="labelWeight">Salary Negotiable<i class="color-red"> * </i></label>
								<input type="checkbox" class="form-control" formControlName="salary_negotiable" required/>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label class="labelWeight">Currency<i class="color-red"> * </i></label>
								<select class="form-control" formControlName="salary_currency">
									<option value="SGD">SGD</option>
								</select>
								<div *ngIf="editJobForm.get('salary_currency').touched && editJobForm.get('salary_currency').invalid"
								     class="alert alert-danger form-control">Please fill out this field!</div>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label class="labelWeight">Salary From<i class="color-red"> * </i></label>
								<input type="text"
											 onkeypress="return event.charCode >= 48 && event.charCode <= 57"
											 class="form-control"
											 formControlName="salary_from"
											 (focus)="onFocusThousandSeparator('salary_from')"
											 (blur)="onBlurThousandSeparator('salary_from')"
											 placeholder="Salary From" required/>
								<div *ngIf="editJobForm.get('salary_from').touched && editJobForm.get('salary_from').invalid"
								     class="alert alert-danger form-control">Please fill out this field!</div>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label class="labelWeight">Salary To<i class="color-red"> * </i></label>
								<input type="text"
											 onkeypress="return event.charCode >= 48 && event.charCode <= 57"
											 class="form-control"
											 formControlName="salary_to"
											 (focus)="onFocusThousandSeparator('salary_to')"
											 (blur)="onBlurThousandSeparator('salary_to')"
											 placeholder="Salary To" required/>
								<div *ngIf="editJobForm.get('salary_to').touched && editJobForm.get('salary_to').invalid"
								     class="alert alert-danger form-control">Please fill out this field!</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group" formArrayName="skills">
								<div class="row" style="padding-bottom: 10px;">
									<div class="col-md-12">
										<div class="form-inline">
											<label class="labelWeight">Required Skills<i class="color-red"> * </i></label>&nbsp;&nbsp;&nbsp;
											<i class="add-button fa fa-plus" (click)="addSkill()"></i>
										</div>
									</div>
								</div>
								<div *ngFor="let skill of skills.controls; let i=index">
									<div class="row">
										<div class="col-md-10">
											<div style="padding-bottom: 5px;">
												<input type="text"
												       class="form-control"
												       placeholder="Skill"
												       [formControlName]="i"
												       required/>
												<div *ngIf="validateFields(skill)"
												     class="alert alert-danger form-control">Please fill out this field!</div>
											</div>
										</div>
										<div class="col-md-2">
											<button type="button" class="btn btn-danger btn-sm form-control" (click)="removeSkill(i)">remove</button>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group" formArrayName="responsibilities">
								<div class="row" style="padding-bottom: 10px;">
									<div class="col-md-12">
										<div class="form-inline">
											<label class="labelWeight">Responsibilities<i class="color-red"> * </i></label>&nbsp;&nbsp;&nbsp;
											<i class="add-button fa fa-plus" (click)="addResponsibility()"></i>
										</div>
									</div>
								</div>
								<div *ngFor="let responsibility of responsibilities.controls; let i=index">
									<div class="row">
										<div class="col-md-10">
											<div style="padding-bottom: 5px;">
												<input type="text"
												       class="form-control"
												       placeholder="Responsibility"
												       [formControlName]="i"
												       required/>
												<div *ngIf="validateFields(responsibility)"
												     class="alert alert-danger form-control">Please fill out this field!</div>
											</div>
										</div>
										<div class="col-md-2">
											<button type="button" class="btn btn-danger btn-sm form-control" (click)="removeResponsibility(i)">remove</button>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group" formArrayName="ideal_talent">
								<div class="row" style="padding-bottom: 10px;">
									<div class="col-md-12">
										<div class="form-inline">
											<label class="labelWeight">Ideal Talent<i class="color-red"> * </i></label>&nbsp;&nbsp;&nbsp;
											<i class="add-button fa fa-plus" (click)="addIdealTalent()"></i>
										</div>
									</div>
								</div>
								<div *ngFor="let idealTalent of ideal_talent.controls; let i=index">
									<div class="row">
										<div class="col-md-10">
											<div style="padding-bottom: 5px;">
												<input type="text"
												       class="form-control"
												       placeholder="Ideal Talent"
												       [formControlName]="i"
												       required/>
												<div *ngIf="validateFields(idealTalent)"
												     class="alert alert-danger form-control">Please fill out this field!</div>
											</div>
										</div>
										<div class="col-md-2">
											<button type="button" class="btn btn-danger btn-sm form-control" (click)="removeIdealTalent(i)">remove</button>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group">
								<label class="labelWeight">Job Description<i class="color-red"> * </i></label>
								<textarea class="form-control" rows="10" formControlName="description" placeholder="Job Description"></textarea>
								<div *ngIf="editJobForm.get('description').touched && editJobForm.get('description').invalid"
								     class="alert alert-danger form-control">Please fill out this field!</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<br/>
			<hr/>
			<br/>
			<div class="row">
				<input type="hidden" name="fileHidden" formControlName="company_logo"/> <!-- Validation Field -->
				<div class="col-md-12" formGroupName="company">
					<h4>Company Details:</h4>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group">
								<label class="labelWeight">Company Name<i class="color-red"> * </i></label>
								<input type="text" class="form-control" formControlName="name" placeholder="Company Name" required/>
								<div *ngIf="editJobForm.get('company.name').touched && editJobForm.get('company.name').invalid"
								     class="alert alert-danger form-control">Please fill out this field!</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group">
								<label class="labelWeight">Address<i class="color-red"> * </i></label>
								<input type="text" class="form-control" formControlName="address" placeholder="Complete Address" required/>
								<div *ngIf="editJobForm.get('company.address').touched && editJobForm.get('company.address').invalid"
								     class="alert alert-danger form-control">Please fill out this field!</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group" formArrayName="phone_numbers">
								<div class="row" style="padding-bottom: 10px;">
									<div class="col-md-12">
										<div class="form-inline">
											<label class="labelWeight">Phone Numbers<i class="color-red"> * </i></label>&nbsp;&nbsp;&nbsp;
											<i class="add-button fa fa-plus" (click)="addPhoneNumber()"></i>
										</div>
									</div>
								</div>
								<div *ngFor="let phoneNumber of phone_numbers.controls; let i=index">
									<div class="row">
										<div class="col-md-10">
											<div style="padding-bottom: 5px;">
												<input type="text"
												       class="form-control"
												       placeholder="Phone Numbers"
												       [formControlName]="i"
												       required/>
												<div *ngIf="validateFields(phoneNumber)"
												     class="alert alert-danger form-control">Please fill out this field!</div>
											</div>
										</div>
										<div class="col-md-2">
											<button type="button" class="btn btn-danger btn-sm form-control" (click)="removePhoneNumber(i)">remove</button>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-6">
							<div class="form-group">
								<label class="labelWeight">Email Address<i class="color-red"> * </i></label>
								<input type="email" class="form-control" formControlName="email" placeholder="Email Address" required/>
								<div *ngIf="editJobForm.get('company.email').touched && editJobForm.get('company.email').invalid">
									<p class="alert alert-danger form-control" *ngIf="editJobForm.get('company.email').errors?.required">Please fill out this field!</p>
									<p class="alert alert-danger form-control" *ngIf="editJobForm.get('company.email').errors?.incorrectMailFormat">Email format is invalid!</p>
								</div>
							</div>
						</div>
						<div class="col-md-6">
							<div class="form-group">
								<label class="labelWeight">Company Logo<i class="color-red"> * </i></label>
								<input type="file" class="form-control" (change)="onFileUpload($event)" required/>
								<img src="{{'http://' + editJobForm.get('company_logo').value }}" class="img-responsive form-control"/>
								<div *ngIf="editJobForm.get('company_logo').invalid"
								     class="alert alert-danger form-control">Please fill out this field!</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group">
								<label class="labelWeight">Twitter Profile</label>
								<input type="url" class="form-control" formControlName="twitter_profile" placeholder="Twitter profile url"/>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group">
								<label class="labelWeight">LinkedIn Profile</label>
								<input type="url" class="form-control" formControlName="linkedin_profile" placeholder="LinkedIn profile url"/>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group">
								<label class="labelWeight">About the Company<i class="color-red"> * </i></label>
								<textarea class="form-control" rows="10" formControlName="about" placeholder="About Company"></textarea>
								<div *ngIf="editJobForm.get('company.about').touched && editJobForm.get('company.about').invalid"
								     class="alert alert-danger form-control">Please fill out this field!</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-4"></div>
						<div class="col-md-2">
							<button type="button" class="btn btn-default pull-right form-control" (click)="onCancel()">CANCEL</button>
						</div>
						<div class="col-md-2">
							<button type="submit" class="btn btn-primary pull-left form-control" (click)="onSave()">SAVE</button>
						</div>
						<div class="col-md-4"></div>
					</div>
				</div>
			</div>
		</form>
	</div>
</div>
